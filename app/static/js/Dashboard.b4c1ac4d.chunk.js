(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{934:function(t,e,n){"use strict";n.r(e);var r=n(11),i=n(12),a=n(15),o=n(13),s=n(14),c=n(1),l=n(250),u=n(170),d=n(286),g=n(24),m=n(10),p=n(4),f=n(8),h=n(23),C=n(22),b=n(94),I=n(58),E=n(30);function v(t){return 0!==t.updatedAt?t.updatedAt:t.createdAt}function T(t,e){var n=v(t)||0;return(v(e)||0)-n}var k=function(){return c.createElement(m.WithMonitoredIntegrations,null,function(t){var e=t.data,n=t.hasData,r=t.error;return c.createElement(m.WithIntegrationsMetrics,null,function(t){var i=t.data;return c.createElement(m.WithConnections,null,function(t){var a=t.data,o=t.hasData,s=t.error,l=e.items.reduce(function(t,e){var n=t[e.integration.currentState]||0;return Object(g.a)({},t,Object(d.a)({},e.integration.currentState,n+1))},{Error:0,Pending:0,Published:0,Unpublished:0}),u=function(t){return t.map(function(t){return t.integration}).sort(T).slice(0,5)}(e.items),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).map(function(t){return{count:e[t],id:t}}).sort(function(t,e){return e.count-t.count});return t.sort(function(t,e){return T(t.integration,e.integration)}).sort(function(t,e){var r=n.findIndex(function(t){return t.id===e.integration.id});return-1===r?n.length+1:r}).reverse().slice(0,5)}(e.items,i.topIntegrations);return c.createElement(h.b,{ns:["dashboard","integrations","shared"]},function(t){return c.createElement(p.Dashboard,{linkToIntegrations:E.a.integrations.list(),linkToIntegrationCreation:E.a.integrations.create.start.selectStep(),linkToConnections:E.a.connections.connections(),linkToConnectionCreation:E.a.connections.create.selectConnector(),integrationsOverview:c.createElement("div",{"data-testid":"total-integrations"},c.createElement(p.AggregatedMetricCard,{title:t("titleTotalIntegrations",{count:e.totalCount}),ok:e.totalCount-l.Error,error:l.Error})),connectionsOverview:c.createElement("div",{"data-testid":"total-connections"},c.createElement(p.ConnectionsMetric,{i18nTitle:t("titleTotalConnections",{count:a.connectionsForDisplay.length})})),messagesOverview:c.createElement("div",{"data-testid":"total-messages"},c.createElement(p.AggregatedMetricCard,{title:t("titleTotalMessages",{count:i.messages}),ok:i.messages-i.errors,error:i.errors})),uptimeOverview:c.createElement(p.UptimeMetric,{start:parseInt(i.start,10),durationDifference:Object(f.toDurationDifferenceString)(parseInt(i.start,10)),i18nTitle:t("titleUptimeMetric")}),topIntegrations:c.createElement(p.TopIntegrationsCard,{i18nTitle:t("titleTopIntegrations",{count:5}),i18nLast30Days:t("lastNumberOfDays",{numberOfDays:30}),i18nLast60Days:t("lastNumberOfDays",{numberOfDays:60}),i18nLast90Days:t("lastNumberOfDays",{numberOfDays:90})},c.createElement(I.d,{error:r,loading:!n,integrations:m})),integrationBoard:c.createElement(p.IntegrationBoard,{runningIntegrations:l.Published,pendingIntegrations:l.Pending,stoppedIntegrations:l.Unpublished,i18nTitle:t("titleIntegrationBoard"),i18nIntegrationStatePending:t("integrationStatePending"),i18nIntegrationStateRunning:t("integrationStateRunning"),i18nIntegrationStateStopped:t("integrationStateStopped"),i18nIntegrations:t("shared:Integrations"),i18nTotal:t("shared:Total")}),integrationUpdates:c.createElement(p.RecentUpdatesCard,{i18nTitle:t("titleIntegrationUpdates")},c.createElement(f.WithLoader,{error:!1,loading:!n,loaderChildren:c.createElement(p.RecentUpdatesSkeleton,null),errorChildren:c.createElement(C.a,null)},function(){return u.map(function(e){return c.createElement(p.RecentUpdatesItem,{key:e.id,integrationName:e.name,integrationCurrentState:e.currentState,integrationDate:e.updatedAt||e.createdAt,i18nError:t("shared:Error"),i18nPublished:t("shared:Published"),i18nUnpublished:t("shared:Unpublished")})})})),connections:c.createElement(b.b,{error:s,includeConnectionMenu:!1,loading:!o,connections:a.connectionsForDisplay,getConnectionHref:function(t){return E.a.connections.connection.details({connection:t})},getConnectionEditHref:function(t){return E.a.connections.connection.edit({connection:t})}}),i18nIntegrations:t("shared:Integrations"),i18nConnections:t("shared:Connections"),i18nLinkCreateConnection:t("shared:linkCreateConnection"),i18nLinkCreateIntegration:t("shared:linkCreateIntegration"),i18nLinkToConnections:t("linkToConnections"),i18nLinkToIntegrations:t("linkToIntegrations"),i18nTitle:t("title")})})})})})};n.d(e,"default",function(){return O});var O=function(t){function e(){return Object(r.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return c.createElement(l.a,null,c.createElement(u.a,{path:this.props.baseurl,exact:!0,component:k}))}}]),e}(c.Component)}}]);
//# sourceMappingURL=Dashboard.b4c1ac4d.chunk.js.map