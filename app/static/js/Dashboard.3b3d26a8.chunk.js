(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{795:function(t,e,n){"use strict";n.r(e);var r=n(8),i=n(9),a=n(11),o=n(10),s=n(12),c=n(0),l=n(16),u=n(182),d=n(20),g=n(7),m=n(4),p=n(6),f=n(19),h=n(18),C=n(73),b=n(44),I=n(23);function E(t){return 0!==t.updatedAt?t.updatedAt:t.createdAt}function v(t,e){var n=E(t)||0;return(E(e)||0)-n}var T=function(){return c.createElement(g.WithMonitoredIntegrations,null,function(t){var e=t.data,n=t.hasData,r=t.error;return c.createElement(g.WithIntegrationsMetrics,null,function(t){var i=t.data;return c.createElement(g.WithConnections,null,function(t){var a=t.data,o=t.hasData,s=t.error,l=e.items.reduce(function(t,e){var n=t[e.integration.currentState]||0;return Object(d.a)({},t,Object(u.a)({},e.integration.currentState,n+1))},{Error:0,Pending:0,Published:0,Unpublished:0}),g=function(t){return t.map(function(t){return t.integration}).sort(v).slice(0,5)}(e.items),E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).map(function(t){return{count:e[t],id:t}}).sort(function(t,e){return e.count-t.count});return t.sort(function(t,e){return v(t.integration,e.integration)}).sort(function(t,e){var r=n.findIndex(function(t){return t.id===e.integration.id});return-1===r?n.length+1:r}).reverse().slice(0,5)}(e.items,i.topIntegrations);return c.createElement(f.b,{ns:["dashboard","integrations","shared"]},function(t){return c.createElement(m.Dashboard,{linkToIntegrations:I.a.integrations.list(),linkToIntegrationCreation:I.a.integrations.create.start.selectStep(),linkToConnections:I.a.connections.connections(),linkToConnectionCreation:I.a.connections.create.selectConnector(),integrationsOverview:c.createElement("div",{"data-testid":"total-integrations"},c.createElement(m.AggregatedMetricCard,{title:t("titleTotalIntegrations",{count:e.totalCount}),ok:e.totalCount-l.Error,error:l.Error})),connectionsOverview:c.createElement("div",{"data-testid":"total-connections"},c.createElement(m.ConnectionsMetric,{i18nTitle:t("titleTotalConnections",{count:a.connectionsForDisplay.length})})),messagesOverview:c.createElement("div",{"data-testid":"total-messages"},c.createElement(m.AggregatedMetricCard,{title:t("titleTotalMessages",{count:i.messages}),ok:i.messages-i.errors,error:i.errors})),uptimeOverview:c.createElement(m.UptimeMetric,{start:parseInt(i.start,10),durationDifference:Object(p.toDurationDifferenceString)(parseInt(i.start,10)),i18nTitle:t("titleUptimeMetric")}),topIntegrations:c.createElement(m.TopIntegrationsCard,{i18nTitle:t("titleTopIntegrations",{count:5}),i18nLast30Days:t("lastNumberOfDays",{numberOfDays:30}),i18nLast60Days:t("lastNumberOfDays",{numberOfDays:60}),i18nLast90Days:t("lastNumberOfDays",{numberOfDays:90})},c.createElement(b.d,{error:r,loading:!n,integrations:E})),integrationBoard:c.createElement(m.IntegrationBoard,{runningIntegrations:l.Published,pendingIntegrations:l.Pending,stoppedIntegrations:l.Unpublished,i18nTitle:t("titleIntegrationBoard"),i18nIntegrationStatePending:t("integrationStatePending"),i18nIntegrationStateRunning:t("integrationStateRunning"),i18nIntegrationStateStopped:t("integrationStateStopped"),i18nIntegrations:t("shared:Integrations"),i18nTotal:t("shared:Total")}),integrationUpdates:c.createElement(m.RecentUpdatesCard,{i18nTitle:t("titleIntegrationUpdates")},c.createElement(p.WithLoader,{error:!1,loading:!n,loaderChildren:c.createElement(m.RecentUpdatesSkeleton,null),errorChildren:c.createElement(h.a,null)},function(){return g.map(function(e){return c.createElement(m.RecentUpdatesItem,{key:e.id,integrationName:e.name,integrationCurrentState:e.currentState,integrationDate:e.updatedAt||e.createdAt,i18nError:t("shared:Error"),i18nPublished:t("shared:Published"),i18nUnpublished:t("shared:Unpublished")})})})),connections:c.createElement(C.b,{error:s,includeConnectionMenu:!1,loading:!o,connections:a.connectionsForDisplay,getConnectionHref:function(t){return I.a.connections.connection.details({connection:t})},getConnectionEditHref:function(t){return I.a.connections.connection.edit({connection:t})}}),i18nIntegrations:t("shared:Integrations"),i18nConnections:t("shared:Connections"),i18nLinkCreateConnection:t("shared:linkCreateConnection"),i18nLinkCreateIntegration:t("shared:linkCreateIntegration"),i18nLinkToConnections:t("linkToConnections"),i18nLinkToIntegrations:t("linkToIntegrations"),i18nTitle:t("title")})})})})})};n.d(e,"default",function(){return k});var k=function(t){function e(){return Object(r.a)(this,e),Object(a.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return c.createElement(l.Switch,null,c.createElement(l.Route,{path:this.props.baseurl,exact:!0,component:T}))}}]),e}(c.Component)}}]);
//# sourceMappingURL=Dashboard.3b3d26a8.chunk.js.map